<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vertex Education</title>
  <style>
    body,html {
      margin:0;padding:0;height:100%;width:100%;
      font-family:sans-serif;background:#f5f5f5;color:#333;
    }
    #cover {
      position:fixed;top:0;left:0;width:100%;height:100%;
      background:white;z-index:9999;display:flex;
      flex-direction:column;align-items:center;justify-content:center;
    }
    .login-box {
      background:#fff;padding:20px;border-radius:8px;
      box-shadow:0 0 10px rgba(0,0,0,0.2);width:300px;text-align:center;
    }
    input,button {
      width:100%;padding:10px;margin:5px 0;border:1px solid #ccc;
      border-radius:5px;
    }
    #flashcards {display:none;padding:20px;text-align:center;}
    .card {
      width:300px;height:200px;margin:20px auto;
      perspective:1000px;cursor:pointer;
    }
    .inner {
      width:100%;height:100%;transition:transform 0.6s;
      transform-style:preserve-3d;position:relative;
    }
    .flipped {transform:rotateY(180deg);}
    .front,.back {
      position:absolute;width:100%;height:100%;backface-visibility:hidden;
      background:#fff;border:1px solid #ccc;border-radius:8px;
      display:flex;align-items:center;justify-content:center;
      font-size:18px;padding:10px;
    }
    .back {transform:rotateY(180deg);}
    .controls button {margin:5px;}
    iframe {
      width:100%;height:100%;border:none;display:none;
    }
  </style>
</head>
<body>
  <!-- Fake school cover -->
  <div id="cover">
    <div class="login-box">
      <h2>Vertex Education Login</h2>
      <input type="text" placeholder="School Email">
      <input type="password" placeholder="Password">
      <button onclick="showFlashcards()">Login</button>
    </div>
    <small id="hiddenTrigger" style="margin-top:20px;color:#aaa;cursor:pointer;">Need help?</small>
  </div>

  <!-- Flashcards -->
  <div id="flashcards">
    <h2>Math Flashcards</h2>
    <div class="card" onclick="flipCard()">
      <div class="inner" id="cardInner">
        <div class="front" id="q">Question</div>
        <div class="back" id="a">Answer</div>
      </div>
    </div>
    <div class="controls">
      <button onclick="prevCard()">Prev</button>
      <button onclick="nextCard()">Next</button>
    </div>
  </div>

  <!-- GN Math actual site hidden behind -->
  <iframe id="gnSite" src="https://gn-math.github.io/"></iframe>

<script>
let clickTimes = [];
document.getElementById("hiddenTrigger").addEventListener("click",()=>{
  const now=Date.now();
  clickTimes=clickTimes.filter(t=>now-t<2000);
  clickTimes.push(now);
  if(clickTimes.length>=5){
    document.getElementById("cover").style.display="none";
    document.getElementById("gnSite").style.display="block";
  }
});

// Flashcards
const cards=[
  {q:"What is 5+7?",a:"12"},
  {q:"Square root of 81?",a:"9"},
  {q:"Capital of France?",a:"Paris"},
];
let index=0;
function showFlashcards(){
  document.querySelector(".login-box").style.display="none";
  document.getElementById("flashcards").style.display="block";
  loadCard();
}
function loadCard(){
  document.getElementById("cardInner").classList.remove("flipped");
  document.getElementById("q").innerText=cards[index].q;
  document.getElementById("a").innerText=cards[index].a;
}
function flipCard(){
  document.getElementById("cardInner").classList.toggle("flipped");
}
function nextCard(){index=(index+1)%cards.length;loadCard();}
function prevCard(){index=(index-1+cards.length)%cards.length;loadCard();}

// Fullscreen with keyboard + pointer lock
function requestFullscreen(el){
  if(el.requestFullscreen) el.requestFullscreen();
  else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
  else if(el.msRequestFullscreen) el.msRequestFullscreen();
}
function lockPointer(el){
  el.requestPointerLock=el.requestPointerLock||el.mozRequestPointerLock;
  if(el.requestPointerLock) el.requestPointerLock();
}
document.addEventListener("fullscreenchange",()=>{
  const iframe=document.getElementById("gnSite");
  if(document.fullscreenElement===iframe){
    iframe.focus();
    lockPointer(iframe);
  }
});
</script>
</body>
</html>
